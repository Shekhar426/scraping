from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options
chrome_options = Options()
chrome_options.add_experimental_option("detach", True)
driver = webdriver.Chrome(options= chrome_options)
wait = WebDriverWait(driver, 3)


urls = ["https://www.americasbest.com/1-day-acuvue-moist-90-pack/p/137906", "https://www.americasbest.com/acuvue-oasys-for-astigmatism-6-pack/p/125718", "https://www.americasbest.com/acuvue-oasys-24-pack/p/153065", "https://www.americasbest.com/biofinity-toric-6-pack/p/134263", "https://www.americasbest.com/acuvue-oasys-1-day-with-hydraluxe-toric-90-pack/p/299357", "https://www.americasbest.com/dailies-aquacomfort-plus-toric-90-pack/p/158612", "https://www.americasbest.com/acuvue-oasys-12-pack/p/165453", "https://www.americasbest.com/1-day-acuvue-moist-for-astigmatism-90-pack/p/173254", "https://www.americasbest.com/biofinity-6-pack/p/124711", "https://www.americasbest.com/acuvue-oasys-1-day-with-hydraluxe-for-astigmatism-30-pack/p/199872", "https://www.americasbest.com/dailies-total-1-90-pack/p/155057", "https://www.americasbest.com/air-optix-plus-hydraglyde-6-pack/p/217530", "https://www.americasbest.com/biofinity-multifocal-6-pack---distance/p/142856", "https://www.americasbest.com/air-optix-night--day-aqua-6-pack/p/132432", "https://www.americasbest.com/precision-1-90-pack/p/291423", "https://www.americasbest.com/clariti-1-day-90-pack/p/177780", "https://www.americasbest.com/biotrue-oneday-90-pack/p/154080", "https://www.americasbest.com/1-day-acuvue-moist-multifocal-90-pack---medium-add/p/180502", "https://www.americasbest.com/acuvue-vita-6-pack/p/190703", "https://www.americasbest.com/dailies-aquacomfort-plus-toric-30-pack/p/158406", "https://www.americasbest.com/air-optix-colors-6-pack/p/164399", "https://www.americasbest.com/1-day-acuvue-moist-for-astigmatism-30-pack/p/146433", "https://www.americasbest.com/ultra-6-pack/p/172102", "https://www.americasbest.com/air-optix-plus-hydraglyde-for-astigmatism-6-pack/p/267577", "https://www.americasbest.com/acuvue-vita-for-astigmatism-6-pack/p/214914", "https://www.americasbest.com/acuvue-oasys-multifocal-low-add-6pk/p/301711", "https://www.americasbest.com/extreme-h2o-weekly-12-pack/p/286722", "https://www.americasbest.com/extreme-h2o-54-6-pack/p/285274", "https://www.americasbest.com/toricolors-sphere-6-pack/p/291186", "https://www.americasbest.com/toricolors-toric-mid-cyl-6-pack/p/293378", "https://www.americasbest.com/extreme-h2o-toric-mid-cyl-6-pack/p/288125", "https://www.americasbest.com/infuse-90-pack/p/296607", "https://www.americasbest.com/precision-1-for-astigmatism-30-pack/p/297855", "https://www.americasbest.com/precision-1-for-astigmatism-90-pack/p/298606", "https://www.americasbest.com/biofinity-xr-toric-6-pack/p/318306", "https://www.americasbest.com/myday-daily-multifocal-low-add-90-pack/p/324159", "https://www.americasbest.com/dailies-total-1-for-astigmatism-90-pack/p/334434", "https://www.americasbest.com/dailies-total-1-for-astigmatism-30-pack/p/332133", "https://www.americasbest.com/toricolors-toric-low-cyl-6-pack/p/293209", "https://www.americasbest.com/total-30-6-pack/p/323854", "https://www.americasbest.com/total-30-for-astigmatism-6-pack/p/341085", "https://www.americasbest.com/sofmed-breathables-1-day-multifocal-high-add-90-pack/p/349982", "https://www.americasbest.com/sofmed-breathables-1-day-multifocal-low-add-90-pack/p/349985", "https://www.americasbest.com/myday-energys-90-pack/p/350140", "https://www.americasbest.com/acuvue-oasys-max-1-day-30-pack/p/350457", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-high-add-30-pack/p/350834", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-mid-add-30-pack/p/350958", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-low-add-30-pack/p/350896", "https://www.americasbest.com/acuvue-oasys-max-1-day-90-pack/p/350584", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-high-add-90-pack/p/351020", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-mid-add-90-pack/p/351144", "https://www.americasbest.com/acuvue-oasys-max-1-day-multifocal-low-add-90-pack/p/351082", "https://www.americasbest.com/acuvue-2-6-pack/p/55903", "https://www.americasbest.com/sofmed-toric-weeklies-6-pack/p/111899", "https://www.americasbest.com/sofmed-55-6-pack/p/111952", "https://www.americasbest.com/1-day-acuvue-moist-30-pack/p/120066", "https://www.americasbest.com/proclear-6-pack/p/121399", "https://www.americasbest.com/proclear-multifocal-toric-6-pack---distance/p/122359", "https://www.americasbest.com/proclear-multifocal-6-pack---near/p/121419", "https://www.americasbest.com/proclear-toric-6-pack/p/121407", "https://www.americasbest.com/proclear-multifocal-toric-6-pack---near/p/122360", "https://www.americasbest.com/proclear-toric-xr-6-pack/p/122703", "https://www.americasbest.com/proclear-multifocal-6-pack---distance/p/121425", "https://www.americasbest.com/proclear-multifocal-xr---distance-8-7-bc/p/124726", "https://www.americasbest.com/proclear-1-day-90-pack/p/124713", "https://www.americasbest.com/proclear-multifocal-xr---near-8-7-bc/p/124727", "https://www.americasbest.com/proclear-multifocal-xr---distance-8-4-bc/p/131512", "https://www.americasbest.com/proclear-multifocal-xr---near-8-4-bc/p/131515", "https://www.americasbest.com/biofinity-multifocal-6-pack---near/p/142859", "https://www.americasbest.com/sofmed-breathables-xw-toric-6-pack/p/153928", "https://www.americasbest.com/dailies-total-1-30-pack/p/155089", "https://www.americasbest.com/biofinity-xr-6-pack/p/156285", "https://www.americasbest.com/air-optix-colors-2-pack/p/181796", "https://www.americasbest.com/myday-daily-disposable-90-pack/p/183618", "https://www.americasbest.com/acuvue-oasys-1-day-with-hydraluxe-90-pack/p/183885", "https://www.americasbest.com/biotrue-oneday-for-presbyopia-30-pack---high-add/p/184640", "https://www.americasbest.com/clariti-1-day-multifocal-90-pack---high-add/p/185887", "https://www.americasbest.com/clariti-1-day-multifocal-90-pack---low-add/p/185933", "https://www.americasbest.com/ultra-for-presbyopia-6-pack---high-add/p/187223", "https://www.americasbest.com/ultra-for-presbyopia-6-pack---low-add/p/187323", "https://www.americasbest.com/dailies-total-1-multifocal-30-pack---medium-add/p/192732", "https://www.americasbest.com/dailies-total-1-multifocal-30-pack---high-add/p/192728", "https://www.americasbest.com/dailies-total-1-multifocal-90-pack---low-add/p/192736", "https://www.americasbest.com/dailies-total-1-multifocal-90-pack---high-add/p/192738", "https://www.americasbest.com/dailies-total-1-multifocal-90-pack---medium-add/p/192746", "https://www.americasbest.com/dailies-total-1-multifocal-30-pack---low-add/p/192730", "https://www.americasbest.com/sofmed-breathables-advanced-toric-6-pack/p/193935", "https://www.americasbest.com/myday-daily-disposable-180-pack/p/194067", "https://www.americasbest.com/biofinity-energys-6-pack/p/194156", "https://www.americasbest.com/sofmed-breathables-advanced-6-pack/p/193819", "https://www.americasbest.com/sofmed-breathables-1-day-90-pack/p/193933", "https://www.americasbest.com/acuvue-vita-12-pack/p/196913", "https://www.americasbest.com/biotrue-oneday-for-astigmatism-30-pack/p/196914", "https://www.americasbest.com/clariti-1-day-toric-90-pack/p/197728", "https://www.americasbest.com/dailies-aquacomfort-plus-30-pack/p/203406", "https://www.americasbest.com/dailies-aquacomfort-plus-90-pack/p/203407", "https://www.americasbest.com/air-optix-plus-hydraglyde-multifocal-medium-add-6-pack/p/255908", "https://www.americasbest.com/air-optix-plus-hydraglyde-multifocal-low-add-6-pack/p/255974", "https://www.americasbest.com/1-day-acuvue-define-30-pack/p/256238", "https://www.americasbest.com/clariti-1-day-30-pack/p/256901", "https://www.americasbest.com/sofmed-breathables-monthly-6-pack/p/265663", "https://www.americasbest.com/dailies-colors-30-pack/p/275859", "https://www.americasbest.com/dailies-colors-90-pack/p/275972", "https://www.americasbest.com/ultra-multifocal-for-astigmatism-high-add-6-pack/p/276090", "https://www.americasbest.com/ultra-multifocal-for-astigmatism-low-add-6-pack/p/278305", "https://www.americasbest.com/precision-1-30-pack/p/291360", "https://www.americasbest.com/biofinity-toric-multifocal-distance-6-pack/p/295062", "https://www.americasbest.com/biofinity-toric-multifocal-near-6-pack/p/295065", "https://www.americasbest.com/extreme-h2o-54-6-pack/p/285274", "https://www.americasbest.com/extreme-h2o-59-thin-6-pack/p/285633", "https://www.americasbest.com/extreme-h2o-59-xtra-6-pack/p/285755", "https://www.americasbest.com/toricolors-sphere-6-pack/p/291186", "https://www.americasbest.com/extreme-h2o-toric-mid-cyl-6-pack/p/288125", "https://www.americasbest.com/myday-daily-multifocal-medium-add-90-pack/p/324003", "https://www.americasbest.com/myday-daily-multifocal-high-add-90-pack/p/324081", "https://www.americasbest.com/sofmed-breathables-ultimate-1-day-multifocal-low-add-90-pack/p/351710", "https://www.americasbest.com/sofmed-breathables-ultimate-1-day-toric-90-pack/p/351713", "https://www.americasbest.com/sofmed-breathables-ultimate-1-day-90-pack/p/351644", "https://www.americasbest.com/sofmed-breathables-ultimate-1day-multifocal-high-add-90-pack/p/351707", "https://www.americasbest.com/sofmed-breathables-ultimate-1-day-multifocal-med-add-90-pack/p/351722", "https://www.americasbest.com/biotrue-oneday-for-astigmatism-90-pack/p/242760", "https://www.americasbest.com/sofmed-breathables-xw-6-pack/p/245737", "https://www.americasbest.com/air-optix-plus-hydraglyde-multifocal-high-add-6-pack/p/255842", "https://www.americasbest.com/air-optix-plus-hydraglyde-multifocal-medium-add-6-pack/p/255908", "https://www.americasbest.com/air-optix-plus-hydraglyde-multifocal-low-add-6-pack/p/255974", "https://www.americasbest.com/1-day-acuvue-define-30-pack/p/256238", "https://www.americasbest.com/clariti-1-day-30-pack/p/256901", "https://www.americasbest.com/sofmed-breathables-monthly-6-pack/p/265663", "https://www.americasbest.com/dailies-colors-30-pack/p/275859", "https://www.americasbest.com/dailies-colors-90-pack/p/275972", "https://www.americasbest.com/ultra-multifocal-for-astigmatism-high-add-6-pack/p/276090", "https://www.americasbest.com/ultra-multifocal-for-astigmatism-low-add-6-pack/p/278305", "https://www.americasbest.com/precision-1-30-pack/p/291360", "https://www.americasbest.com/biofinity-toric-multifocal-distance-6-pack/p/295062", "https://www.americasbest.com/biofinity-toric-multifocal-near-6-pack/p/295065", "https://www.americasbest.com/acuvue-oasys-multifocal-high-add-6pk/p/301649", "https://www.americasbest.com/acuvue-oasys-multifocal-mid-add-6pk/p/301773", "https://www.americasbest.com/extreme-h2o-toric-low-cyl-6-pack/p/287118", "https://www.americasbest.com/extreme-h2o-59-thin-6-pack/p/285633", "https://www.americasbest.com/extreme-h2o-monthly-6-pack/p/285955", "https://www.americasbest.com/extreme-h2o-59-xtra-6-pack/p/285755", "https://www.americasbest.com/myday-daily-multifocal-medium-add-90-pack/p/324003", "https://www.americasbest.com/myday-daily-multifocal-high-add-90-pack/p/324081", "https://www.americasbest.com/sofmed-breathables-ultimate-1-day-multifocal-low-add-90-pack/p/351710"]

number = 1

for i in urls:
    driver.get(i)
    number = number + 1
    name  = wait.until(EC.visibility_of_element_located((By.XPATH, "//div[@class='t-pdp__item-info']/h1"))).text
    brand  = wait.until(EC.visibility_of_element_located((By.XPATH, "//div[@class='t-pdp__item-info']/a"))).text
    type  = wait.until(EC.visibility_of_element_located((By.XPATH, "//li[@class='m-breadcrumb__item m-breadcrumb__item--active']/span/a"))).text
    current_price = wait.until(EC.visibility_of_element_located((By.XPATH, "//div[@class='c-product-info__offer-price ']/p[1]"))).get_attribute("aria-label")

    regular_price = wait.until(EC.visibility_of_element_located((By.XPATH, "//div[@class='c-product-info__offer-price ']/p[2]"))).text
    regular_price =regular_price[15:]
    lens_per_box = wait.until(EC.visibility_of_element_located((By.XPATH, "//p[@class='t-pdp__item-subtitle']"))).text
    lens_per_box = lens_per_box.split()
    manufecturer = wait.until(EC.visibility_of_element_located((By.XPATH, "((//span[contains(text(), 'Manufacturer')])[1]/parent::li//span)[4]"))).text
    sku = wait.until(EC.visibility_of_element_located((By.XPATH, "//span[@class='m-product-specs__item-value m-product-specs__item-value--product-code']"))).text

    parsed_data = {
        "name":name,
        "brand": brand,
        "type":type,
        "current_price":current_price,
        "regular_price": regular_price,
        "lens_per_box": lens_per_box,
        "manufacture": manufecturer,
        "sku": sku
    }
    print(parsed_data)